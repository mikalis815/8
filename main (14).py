def is_palindrome(s):
    """
    Рекурсивная функция для проверки, является ли строка палиндромом.
    Аргументы:
        s (str): строка для проверки
    Возвращает:
        True, если строка является палиндромом, иначе False
    """
    # Пустая строка или строка из одного символа
    # всегда является палиндромом
    if len(s) <= 1:
        return True
    
    # Если первый и последний символы не совпадают
    # строка не может быть палиндромом
    if s[0].lower() != s[-1].lower():
        return False
    
    # Рекурсивный случай: проверяем подстроку без первого и последнего символов
    # Если внутренняя часть строки является палиндромом, то и вся строка - палиндром
    return is_palindrome(s[1:-1])


# Функция с обработкой пробелов и знаков препинания
def is_palindrome_advanced(s):
    """
    Версия функции, которая игнорирует пробелы, знаки препинания и регистр.
    """
    # Предварительная обработка строки: удаляем не-буквенные символы и приводим к нижнему регистру
    import re
    cleaned_string = re.sub(r'[^a-zA-Zа-яА-Я0-9]', '', s).lower()
    
    # Используем основную рекурсивную функцию для очищенной строки
    return is_palindrome(cleaned_string)


# Примеры:
if __name__ == "__main__":
    test_strings = [
        "radar",
        "level",
        "hello",
        "A",
        "",
        "А роза упала на лапу Азора",
        "Madam, I'm Adam"
    ]
    
    print("Проверка обычной функции:")
    for test in test_strings:
        result = is_palindrome(test)
        print(f"'{test}' -> {result}")
    
    print("\nПроверка улучшенной функции:")
    for test in test_strings:
        result = is_palindrome_advanced(test)
        print(f"'{test}' -> {result}")